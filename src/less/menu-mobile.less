@media @phone {

  #nav {
    .h(9rem);
  }

}

#header {

  .toggle {
    .w(@s * 1.5); .h(@s); .mar(@s); .cur;

    .bar-top {
      .abs; .w; .h(@bd); .t; .bg(white);
    }

    .bar-middle {
      .abs; .w; .h(@bd); .t(50%); .bg(white);
    }

    .bar-bottom {
      .abs; .w; .h(@bd); .b; .bg(white);
    }
  }
}

@menu-mobile-width: 37.5rem;

#menu-mobile {
  .pos(fixed); .w(@menu-mobile-width); .mw; .h; .bg(@prime); .r(-@menu-mobile-width); 
  .trn(right .2s ease-in-out); .z(999); .t; .dsp(flex); .aic; .of(hidden);

  &.is-open {
    .r; .bxs(0,-@s,@s,0,rgba(0,0,0,.5));
  }

  #menu {
    .flxd(column); .fs(@h2); .as(center); .mar(auto 0); .c(white);
    .w(@menu-mobile-width); .h; .jc(center); .l; .trn(left .2s ease-in-out);

    &.show-sub_menu {
      .l(-@menu-mobile-width);
    }
  }

  .item-primary {
    .w;

    .title {
      .pad(.5em 1em); .flx; .jcsb; .aic;

      &:hover {
        .bg(rgba(0,0,0,.1));
      }
    }
  }

  .sub_menu {
    .abs; .l(100%); .t; .w(@menu-mobile-width); .h;
    .flx; .aic; .hide;

    &.is-active {
      .dsp(block);
    }
  }

  .sub_menu-toggle {
    .wh(.33em); .bd(solid white); .bdw(0 @bd @bd 0); .cur(pointer);
    .trf(rotate(-45deg)); .t(-.15em);
  }

  .item-secondary {
    .fs(@h2);
  }

  .exit {
    .w(@s * 1.5); .h(@s); .abs; .mar(@s); .t; .r; .cur; .bg(@prime);

    &:before {
      .cnt; .abs; .w; .h(@bd); .t(50%); .l(50%); .bg(white); .trf(translate(-50%,-50%) rotate(45deg));
    }

    &:after {
      .cnt; .abs; .w; .h(@bd); .t(50%); .l(50%); .bg(white); .trf(translate(-50%,-50%) rotate(-45deg));
    }
  }

  &.sub_menu-is-open {
    .exit {
      &:before {
        .l; .t(50%); .w; .h(@bd); .trf(translateY(-50%)); 
      }
      &:after {
        .l; .t(50%); .wh(@xs); .bd(solid white); .bdw(0 0 @bd @bd);
        .trf(translateY(-50%) rotate(45deg)); .bg(none);
      }
    }
  }
}

